(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e7f4dfd"],{"6fc3":function(t,e,a){},cdef:function(t,e,a){"use strict";var i=a("6fc3"),l=a.n(i);l.a},fc8e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 权限模板")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"primary",icon:"add"},on:{click:t.handlerUserAdd}},[t._v("新增权限模板")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.data.data,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",prop:"id",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"模板名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"common",label:"中文名",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":t.page_total,"page-size":t.page_size,"current-page":t.cur_page},on:{"current-change":t.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"50%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"中文名称"}},[a("el-input",{model:{value:t.form.common,callback:function(e){t.$set(t.form,"common",e)},expression:"form.common"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"新增模板",visible:t.addVisible,width:"30%"},on:{"update:visible":function(e){t.addVisible=e}}},[a("div",[t._v("模板名称命名：sre:admin(sre管理员) sre:common(sre普通用户)")]),a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"中文名"}},[a("el-input",{model:{value:t.form.common,callback:function(e){t.$set(t.form,"common",e)},expression:"form.common"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确 定")])],1)],1)],1)},l=[],s=(a("7f7f"),a("96cf"),a("3b8d")),n=a("cebc"),o=a("2f62"),r={name:"basetable",data:function(){return{url:"./vuetable.json",tableData:[],cur_page:1,page_size:50,page_total:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,addVisible:!1,editVisible:!1,delVisible:!1,form:{id:0,name:"",common:""},idx:-1,value:""}},created:function(){this.getData()},computed:{data:function(){return{data:this.$store.state.templates.data}}},methods:Object(n["a"])({},Object(o["b"])(["getTemplates","deleteTemplate","addTemplate"]),{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.getTemplates({page:this.cur_page,pageSize:this.page_size});case 4:this.page_total=this.$store.state.templates.pages,this.tableData=this.$store.state.templates.data;case 6:return t.prev=6,this.loading=!1,t.finish(6);case 9:case"end":return t.stop()}},t,this,[[1,,6,9]])}));function e(){return t.apply(this,arguments)}return e}(),loadData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.getTemplates({page:this.cur_page,pageSize:this.page_size});case 4:return t.prev=4,this.loading=!1,t.finish(4);case 7:case"end":return t.stop()}},t,this,[[1,,4,7]])}));function e(){return t.apply(this,arguments)}return e}(),search:function(){this.is_search=!0},formatter:function(t,e){return t.status},filterTag:function(t,e){return e.tag===t},handlerUserAdd:function(){this.addVisible=!0},handleEdit:function(t,e){this.idx=t;var a=this.tableData[t];this.form={id:a.id,name:a.name,common:a.common},a.is_active?this.value="启用":this.value="禁用",this.editVisible=!0},handleDelete:function(t,e){this.idx=t,this.delVisible=!0},delAll:function(){var t=this.multipleSelection.length,e="";this.del_list=this.del_list.concat(this.multipleSelection);for(var a=0;a<t;a++)e+=this.multipleSelection[a].name+" ";this.$message.error("删除了"+e),this.multipleSelection=[]},handleSelectionChange:function(t){this.multipleSelection=t},saveEdit:function(){this.form.password=this.tableData[this.idx].password,this.form.public_key=this.tableData[this.idx].public_key,this.$set(this.tableData,this.idx,this.form),this.updateUser(this.tableData[this.idx])},saveAdd:function(){console.log("start save user"),this.addTemplate(this.form),this.addVisible=!1},deleteRow:function(){var t=this.tableData[this.idx].id;this.tableData.splice(this.idx,1),this.deleteTemplate(t),this.delVisible=!1}})},c=r,d=(a("cdef"),a("2877")),u=Object(d["a"])(c,i,l,!1,null,"13759a44",null);e["default"]=u.exports}}]);